<form nz-form [ngClass]="{'form-edit': !appS.edit}" [formGroup]="validateForm" (ngSubmit)="ngSubmit()">
  <nz-form-item>
    <nz-form-label [nzSm]="3" nzRequired nzFor="projectName">项目名称</nz-form-label>
    <nz-form-control [nzSm]="21" [ngClass]="{'in-error': validateForm.get('projectName').errors}">
      <input type="text" nz-input placeholder="项目名称" formControlName="projectName">
      <nz-form-explain *ngIf="appS.edit">{{validateForm.get('projectName').errors | ValidatorError}}</nz-form-explain>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="3" >分布工程</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="分布工程" formControlName="divisionProject">
      </nz-input-group>
    </nz-form-control>
    <nz-form-label [nzSm]="3" >施工单位</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="施工单位" formControlName="constructionUnit">
      </nz-input-group>
    </nz-form-control>
    <nz-form-label [nzSm]="3" >分项工程</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="分项工程" formControlName="subProject">
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="3" >单位工程</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="单位工程" formControlName="unitProject">
      </nz-input-group>
    </nz-form-control>
    <nz-form-label [nzSm]="3" >工程部位</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="工程部位" formControlName="engineeringSite">
      </nz-input-group>
    </nz-form-control>
    <nz-form-label [nzSm]="3" >合同段</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="合同段" formControlName="contractSection">
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSm]="3" >桩号范围</nz-form-label>
    <nz-form-control [nzSm]="5">
      <nz-input-group>
        <input type="text" nz-input placeholder="桩号范围" formControlName="stationRange">
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>
  <div class="supervisions">
    <div>
      <h3>监理</h3>
      <button nz-button nzType="primary" nzSearch (click)="add()" type="button">添 加</button>
    </div>
    <div nz-row nzGutter="25" formArrayName="supervisions">
      <div nz-col nzSm="24" nzLg="12" *ngFor="let item of formArr.controls; index as i"
        [formGroupName]="i">
        <div class="card">
          <div class="btn">
            <button nz-button
            *ngIf="formArr.controls.length > 1"
            nzType="default" nzShape="circle" (click)="sub()"><i nz-icon type="close"></i></button>
          </div>
          <div class="content">
            <nz-form-item>
              <nz-form-label [nzSm]="4" nzRequired>监理姓名</nz-form-label>
              <nz-form-control [nzSm]="20" [ngClass]="{'in-error': item.get('name').errors}">
                  <input type="text" nz-input placeholder="监理姓名" formControlName="name">
                <nz-form-explain *ngIf="appS.edit">{{item.get('name').errors | ValidatorError}}</nz-form-explain>
              </nz-form-control>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="4" nzRequired>监理单位</nz-form-label>
              <nz-form-control [nzSm]="20" [ngClass]="{'in-error': item.get('unit').errors}">
                  <input type="text" nz-input placeholder="监理单位" formControlName="unit">
                  <nz-form-explain *ngIf="appS.edit">{{item.get('unit').errors | ValidatorError}}</nz-form-explain>
              </nz-form-control>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="4">联系方式</nz-form-label>
              <nz-form-control [nzSm]="20">
                  <input type="text" nz-input placeholder="联系方式" formControlName="phone">
              </nz-form-control>
            </nz-form-item>

            <nz-form-item>
              <nz-form-label [nzSm]="4">图片</nz-form-label>
              <nz-form-control [nzSm]="20">
                  <input type="text" nz-input placeholder="图片" formControlName="ImgBase64">
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="edit" [ngClass]="{'edit-on': appS.edit}"></div>
</form>
